<!--
Copyright 2015 Solinea, Inc.
Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at
http://www.apache.org/licenses/LICENSE-2.0
Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
-->

{% load staticfiles %} {% load custom_filters %}
<!DOCTYPE html>

<head>

    <script>
        // if user isn't logged in, redirect to login page without loading anything
        var token = localStorage.getItem('userToken');
        if (token === undefined || token === null) {
            location.href = 'login/';
        }
        // assign "ajax-loader-solinea-blue" spinner gif
        var blueSpinnerGif = "{% static 'images/ajax-loader-solinea-blue.gif' %}";
    </script>

    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Goldstone</title>
    <link rel="icon" href="/static/images/favicon.ico">
    <link rel="stylesheet" href="/static/css/bootstrap/bootstrap.min.css">
    <link rel="stylesheet" href="/static/css/plugins/font-awesome/css/font-awesome.min.css">
    <link rel="stylesheet" href="/static/css/plugins/dataTables/dataTables.bootstrap.css" rel="stylesheet" media="screen">
    <link rel="stylesheet" href="/static/css/plugins/bootstrap-datetimepicker.css">
    <link rel="stylesheet" href="/static/css/client/scss/styleLight.css" rel="stylesheet" media="screen">
    <link rel="alternate stylesheet" href="/static/css/client/scss/styleDark.css" rel="stylesheet" media="screen">
    <!--[if lt IE 9]>
        <script src="/static/html5shiv.min.js"></script>
        <![endif]-->
    <!-- Append addon link tags here -->
    <!-- Example addon css link: -->
    <!-- <link rel="stylesheet" href="/static/addons/yourapp/client-css/main.css" rel="stylesheet" media="screen"> -->
    {% if compliance_installed %}
    <link rel="stylesheet" href="/static/client-css/compliance.css" rel="stylesheet" media="screen"> {% endif %}
    <!-- Append addon link tags prior to here -->
</head>

<body class="dashboard">
    <!--Page Wrapper Start-->
    <div class="wrapper">

        <nav id="top-bar">
            <ul>
                <li class="g-o-l-d-s-t-o-n-e"><a href="/#discover"><span class="i18n" data-i18n="GOLDSTONE">GOLDSTONE</span></a></li>
                <li class="navigate-line"></li>
                <li class="d-a-s-h-b-o-a-r-d"><a href="/#discover"><span class="i18n" data-i18n="DASHBOARD">DASHBOARD</span></a></li>
                <li class="m-e-t-r-i-c-s"><span class="i18n" data-i18n="METRICS">METRICS</span>
                    <ul>
                        <li class="metrics-log"><a href="/#reports/logbrowser"><span class="i18n" data-i18n="Logs">Logs</span></a></li>
                        <li class="metrics-event"><a href="#/reports/eventbrowser"><span class="i18n" data-i18n="Events">Events</span></a></li>
                        <li class="metrics-api"><a href="#/reports/apibrowser"><span class="i18n" data-i18n="Api">Api</span></a></li>
                    </ul>
                </li>
                <div class="topology-icon-container"></div>
                <div class="compliance-icon-container"></div>
                <li class="active-user"><span class="user-b-g"></span>
                    <ul>
                        <li class="active-username"></li>
                        <li class="user-settings"><a href="/#settings"><span class="i18n" data-i18n="Settings">Settings</span></a></li>
                        <li class="user-help"><a href="https://solinea.freshdesk.com/support/home"><span class="i18n" data-i18n="Help">Help</span></a></li>
                        <li class="user-logout logout-btn"><a href="#"><span class="i18n" data-i18n="Sign Out">Sign Out</span></a></li>
                    </ul>
                </li>
                <li class="u-p-g-r-a-d-e">
                    <span class="i18n" data-i18n="UPGRADE">UPGRADE</span>
                    <span class="upgrade-b-g"></span>
                    <ul>
                        <li class="banner">UPGRADE</li>
                        <li class="initial">Upgrade your plan to unlock<br>new features</li>
                        <li class="action"><a href="#">UPGRADE NOW!</a></li>
                    </ul>
                </li>
                <li class="alert-container">
                    <span class="badge" id="badge-count"></span>
                    <span class="icon-alerts"></span>
                    <ul class="alert-content-parent">
                        <!-- <li class="alert-content">
                        </li> -->
                    </ul>
                </li>
            </ul>
        </nav>
        <nav id="bottom-bar"></nav>

        <header class="main-header clearfix">
            <a class="logo-header" href="/#discover">&nbsp;</a>

            <div class="global-range-refresh-container"></div>

            <div class="user-control">
                <i class="user"><img src="/static/images/icon-avatar-32.png" alt=""></i>
                <span class="username"></span>
                <div class="menu-wrapper">
                    <div class="menu shadow-block">
                        <a href="#settings" class="setting">
                            <i class="icon setting-icon">&nbsp;</i>
                            <span class="i18n" data-i18n="Settings">Settings</span>
                        </a>
                        <a href="https://solinea.freshdesk.com/support/home" class="help">
                            <i class="icon help-icon">&nbsp;</i>
                            <span class="i18n" data-i18n="Support">Support</span>
                        </a>
                        <a href="https://groups.google.com/forum/#!forum/goldstone-users" class="google-group">
                            <i class="icon google-group-icon">&nbsp;</i>
                            <span class="i18n" data-i18n="Google Groups">Google Groups</span>
                        </a>
                        <a href="https://github.com/Solinea/goldstone-server" class="github">
                            <i class="icon github-icon">&nbsp;</i>
                            <span class="i18n" data-i18n="Github Repo">Github Repo</span>
                        </a>
                        <a href="#" class="logout-btn shadow-block"><span class="i18n" data-i18n="Logout">
                                Logout</span>
                            </a>
                    </div>
                </div>
            </div>
        </header>
        <!--Header End-->
        <!--Sidebar Begin -->
        <div class="sidebar clearfix">
            <ul class="btn-grp">
                <a href="#discover">
                    <li class="dashboard-tab" data-toggle="tooltip" data-i18n-tooltip="Dashboard" data-placement="right" title="Dashboard">
                        <span class="btn-icon-block"><i class="icon dashboard-icon">&nbsp;</i></span>
                        <span data-i18n="Dashboard" class="btn-txt i18n">Dashboard</span>
                    </li>
                </a>
                <!-- controlled by alertsMenuView -->
                <li class="alerts-tab alert-icon-placeholder" data-toggle="tooltip" data-placement="right" data-i18n-tooltip="Alerts" title="Alerts">
                    <span class="btn-icon-block"><i class="icon alerts">&nbsp;</i></span>
                    <span data-i18n="Alerts" class="btn-txt i18n">Alerts</span>
                </li>
                <!-- end alertsMenuView control -->
                <a href="#metrics/api_perf">
                    <li class="metrics-tab" data-toggle="tooltip" data-i18n-tooltip="Metrics" data-placement="right" title="Metrics">
                        <span class="btn-icon-block"><i class="icon metrics">&nbsp;</i></span>
                        <span data-i18n="Metrics" class="btn-txt i18n">Metrics</span>
                    </li>
                </a>
                <a href="#reports/logbrowser">
                    <li class="reports-tab" data-toggle="tooltip" data-i18n-tooltip="Reports" data-placement="right" title="Reports">
                        <span class="btn-icon-block"><i class="icon reports">&nbsp;</i></span>
                        <span data-i18n="Reports" class="btn-txt i18n">Reports</span>
                    </li>
                </a>
                <!-- <span class="topology-icon-container"> -->
                    <!-- dynamically inserted by addonMenuView -->
                    </span>
                <!-- <span class="compliance-icon-container"> -->
                   <!-- dynamically inserted by addonMenuView -->
                    </span>
                <li class="menu-toggle" data-toggle="tooltip" data-placement="right" data-i18n-tooltip="Expand" title="Expand">
                    <span class="btn-icon-block"><i class="icon expand">&nbsp;</i></span>
                    <span data-i18n="Icons Only" class="btn-txt i18n">Icons Only</span>
                </li>
            </ul>

            <!-- beginning of alert menu -->

            <div class="tab-content">
                <div class="tab alert-tab">
                    <h4 class="header-block i18n" data-i18n="Alerts">Alerts</h4><span class="alert-close" data-placement="left" data-i18n-tooltip="Close" data-toggle="tooltip" title="Close"><i class="fa fa-3x fa-inverse fa-chevron-circle-left"></i></span>
                    <div class="subtab">
                        <ul class="tab-links">
                            <li class="active i18n" data-i18n="Recent">Recent</li>
                            <li class="i18n" data-i18n="All">All</li>
                        </ul>

                        <!-- BEGINNING RECENT ALERTS BLOCK -->
                        <div class="sub-tab-content">
                            <div class="tabs">
                                <ul class="list-content alerts-recent">
                                    <!-- populated via alertsMenuView -->
                                </ul>
                            </div>
                            <div class="tabs"></div>
                        </div>

                        <!-- END RECENT ALERTSBLOCK -->
                        <!-- BEGINNING ALL ALERTS BLOCK -->
                        <div class="all-tab-content">
                            <div class="tabs">
                                <ul class="list-content alerts-all">
                                    <!-- populated via alertsMenuView -->
                                </ul>
                            </div>
                            <div class="tabs"></div>
                        </div>
                        <!-- END ALL ALERTS BLOCK -->
                    </div>
                </div>

                <!-- end of alert menu -->

            </div>
        </div>
        <!--Sidebar End-->

        <!--Content Area Start-->
        <div class="content">

            <div class="container">

                <!-- alert popups -->
                <div class="row alert alert-danger alert-dismissable" hidden="true"></div>
                <div class="alert alert-warning alert-dismissable" hidden="true"></div>
                <div class="alert alert-info alert-dismissable" hidden="true"></div>
                <div class="alert alert-success alert-dismissable" hidden="true"></div>
                <!-- end alert popups -->

                <div class="router-content-container">
                    <!-- content clipped into discoverView.js -->
                </div>

            </div>

            <!--Footer Start-->
            <footer class="footer">
                <!-- <div class="container"> -->

                <div class="row">
                    <span class="version">
                            <span class="i18n" data-i18n="Version">Version
                            </span> : {{goldstone_version}}
                    </span>

                    <span class="license">

                        <!-- license href via setBaseTemplateListeners.js -->
                        <a target="solinea_license" class="dynamic-license"><span class="i18n" data-i18n="License">License</span></a>
                    </span>

                    <span class="copyright"><strong><span class="i18n" data-i18n="Copyright">Copyright</span> 2014-2016</strong> <a target="solinea_info" href="http://www.solinea.com/">Solinea, Inc.</a></span>
                </div>
                <!-- </div> -->
            </footer>
            <!--Footer End-->

        </div>
        <!--Content Area End-->

    </div>
    <!--Page Wrapper End-->
    <!-- script tags are concatenated into the following files -->
    <!-- which are ordered so that dependencies come first -->
    <!-- goldstone global object {} is defined in base.js -->
    <!-- when changing the client lib files, adjust siteLibLoadOrder.js -->

    <script src="{% static 'bundle/libs.js' %}"></script>
    <script src="{% static 'bundle/bundle.js' %}"></script>
    <!-- conditional compliance script tag -->
    {% if compliance_installed %}
    <script src="{% static 'client-js/compliance.js' %}"></script>
    {% endif %}
    <!-- conditional topology script tag -->
    {% if topology_installed %}

    <script src="{% static 'client-js/topology.js' %}">
        console.log("it was installed");
    </script>
    {% endif %}
    <!-- all goldstone and addon JavsScript libraries are loaded prior to here. -->

    <script>
        $(function() {

            // assign json object from /static/i18n/po_json/
            // this is transformed into a Jed.js compatible initialization
            // object in I18nModel
            goldstone.i18nJSON = {{ i18n_po_json_i18n_combined_json | to_js }};

            // defined on init.js
            goldstone.init();

        });
    </script>

</body>

</html>
