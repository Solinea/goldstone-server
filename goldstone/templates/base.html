<!--
Copyright 2016 Solinea, Inc.
Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at
http://www.apache.org/licenses/LICENSE-2.0
Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
-->

{% load staticfiles %} {% load custom_filters %}
<!DOCTYPE html>

<head>

    <script>
        // if user isn't logged in, redirect to login page without loading anything
        var token = localStorage.getItem('userToken');
        if (token === undefined || token === null) {
            location.href = 'login/';
        }
        // assign "ajax-loader-solinea-blue" spinner gif
        var blueSpinnerGif = "{% static 'images/ajax-loader-solinea-blue.gif' %}";
    </script>

    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Goldstone</title>
    <link rel="icon" href="/static/images/favicon.ico">
    <link rel="stylesheet" href="/static/css/bootstrap/bootstrap.min.css">
    <link rel="stylesheet" href="/static/css/plugins/font-awesome/css/font-awesome.min.css">
    <link rel="stylesheet" href="/static/css/plugins/dataTables/dataTables.bootstrap.css" rel="stylesheet" media="screen">
    <link rel="stylesheet" href="/static/css/plugins/bootstrap-datetimepicker.css">
    <link rel="stylesheet" href="/static/css/client/scss/styleLight.css" rel="stylesheet" media="screen">
    <link rel="alternate stylesheet" href="/static/css/client/scss/styleDark.css" rel="stylesheet" media="screen">
    <!--[if lt IE 9]>
        <script src="/static/html5shiv.min.js"></script>
        <![endif]-->
    <!-- Append addon link tags here -->
    <!-- Example addon css link: -->
    <!-- <link rel="stylesheet" href="/static/addons/yourapp/client-css/main.css" rel="stylesheet" media="screen"> -->
    {% if compliance_installed %}
    <link rel="stylesheet" href="/static/client-css/compliance.css" rel="stylesheet" media="screen"> {% endif %}
    <!-- Append addon link tags prior to here -->
</head>

<body class="dashboard">

    <!-- alert popups -->
    <div class="alert alert-danger alert-dismissable" hidden="true"></div>
    <div class="alert alert-warning alert-dismissable" hidden="true"></div>
    <div class="alert alert-info alert-dismissable" hidden="true"></div>
    <div class="alert alert-success alert-dismissable" hidden="true"></div>
    <!-- end alert popups -->

    <!--Page Wrapper Start-->
    <div class="wrapper">

        <nav id="top-bar">
            <ul>
                <li class="g-o-l-d-s-t-o-n-e"><a href="/#discover"><span class="i18n" data-i18n="goldstone">goldstone</span></a></li>
                <li class="navigate-line"></li>
                <li class="d-a-s-h-b-o-a-r-d"><a href="/#discover"><span class="i18n" data-i18n="Dashboard">Dashboard</span></a></li>
                <li class="m-e-t-r-i-c-s"><span class="i18n" data-i18n="Metrics">Metrics</span>
                    <ul>
                        <li class="metrics-log"><a href="/#reports/logbrowser"><span class="i18n" data-i18n="Logs">Logs</span></a></li>
                        <li class="metrics-event"><a href="#/reports/eventbrowser"><span class="i18n" data-i18n="Events">Events</span></a></li>
                        <li class="metrics-api"><a href="#/reports/apibrowser"><span class="i18n" data-i18n="Api">Api</span></a></li>
                    </ul>
                </li>
                <div class="topology-icon-container"></div>
                <div class="compliance-icon-container"></div>
                <li class="active-user"><span class="user-b-g"></span>
                    <ul>
                        <li class="active-username"></li>
                        <li class="user-settings"><a href="/#settings"><span class="i18n" data-i18n="Settings">Settings</span></a></li>
                        <li class="user-help"><a href="https://solinea.freshdesk.com/support/home"><span class="i18n" data-i18n="Help">Help</span></a></li>
                        <li class="user-logout logout-btn"><a href="#"><span class="i18n" data-i18n="Sign Out">Sign Out</span></a></li>
                    </ul>
                </li>
                <li class="u-p-g-r-a-d-e">
                    <span class="i18n" data-i18n="Upgrade">Upgrade</span>
                    <span class="upgrade-b-g"></span>
                    <ul>
                        <li class="banner">Upgrade</li>
                        <li class="initial">Upgrade your plan to unlock<br>new features</li>
                        <li class="action"><a href="#">Upgrade Now!</a></li>
                    </ul>
                </li>
                <li class="alert-container">
                    <span class="badge" id="badge-count"></span>
                    <span class="icon-alerts"></span>
                    <ul class="alert-content-parent">
                    </ul>
                </li>
            </ul>
        </nav>
        <nav id="bottom-bar"></nav>

        <!--Content Area Start-->
        <div class="content">

            <div class="container">

                <div class="router-content-container">
                </div>

            </div>

            <!--Footer Start-->
            <footer class="footer">

                <div class="row">
                    <span class="version">
                            <span class="i18n" data-i18n="Version">Version
                            </span> : {{goldstone_version}}
                    </span>

                    <span class="license">

                        <!-- license href set via setBaseTemplateListeners.js -->
                        <a target="solinea_license" class="dynamic-license"><span class="i18n" data-i18n="License">License</span></a>
                    </span>

                    <span class="copyright"><strong><span class="i18n" data-i18n="Copyright">Copyright</span> 2014-2016</strong> <a target="solinea_info" href="http://www.solinea.com/">Solinea, Inc.</a></span>
                </div>

            </footer>
            <!--Footer End-->

        </div>
        <!--Content Area End-->

    </div>
    <!--Page Wrapper End-->
    <!-- script tags are concatenated into the following files -->
    <!-- which are ordered so that dependencies come first -->
    <!-- goldstone global object {} is defined in base.js -->
    <!-- when changing the client lib files, adjust siteLibLoadOrder.js -->

    <script src="{% static 'bundle/libs.js' %}"></script>
    <script src="{% static 'bundle/bundle.js' %}"></script>
    <!-- conditional compliance script tag -->
    {% if compliance_installed %}
    <script src="{% static 'client-js/compliance.js' %}"></script>
    {% endif %}
    <!-- conditional topology script tag -->
    {% if topology_installed %}

    <script src="{% static 'client-js/topology.js' %}"></script>
    {% endif %}
    <!-- all goldstone and addon JavsScript libraries are loaded prior to here. -->

    <script>
        $(function() {

            // assign json object from /static/i18n/po_json/
            // this is transformed into a Jed.js compatible initialization
            // object in I18nModel
            goldstone.i18nJSON = {{ i18n_po_json_i18n_combined_json | to_js }};

            // defined on init.js
            goldstone.init();

        });
    </script>

</body>

</html>
